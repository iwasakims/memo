- hosts:
  - masters
  remote_user: "{{ user }}"
  tasks:
  - name: start namenode daemon
    command: "{{ hadoop_home }}/sbin/hadoop-daemon.sh start namenode"
  - name: start resourcemanager daemon
    command: "{{ hadoop_home }}/sbin/yarn-daemon.sh start resourcemanager"

- hosts:
  - slaves
  remote_user: "{{ user }}"
  tasks:
  - name: start datanode daemon
    command: "{{ hadoop_home }}/sbin/hadoop-daemon.sh start datanode"
  - name: start nodemanager daemon
    command: "{{ hadoop_home }}/sbin/yarn-daemon.sh start nodemanager"
